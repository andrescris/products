# üì¶ Products API

Una API RESTful construida en Go para gestionar productos, utilizando Gin y Firebase Firestore.

## ‚ú® Caracter√≠sticas

- **CRUD completo** para productos.
- **Filtros avanzados** para listar productos por SKU, categor√≠a, marca o estado.
- **B√∫squeda simple** por nombre.
- **Autenticaci√≥n segura** mediante API Key.
- **Integraci√≥n modular** con la librer√≠a de Firebase existente.
- **Soft Deletes**: Los productos se desactivan en lugar de eliminarse permanentemente.

## ‚öôÔ∏è Configuraci√≥n

1.  **Clona el repositorio** y navega al directorio `products-api`.
2.  **Crea tu archivo de entorno**: `cp .env.example .env`.
3.  **Edita el archivo `.env`**:
    - Define un `PORT` (ej. `8082`).
    - Establece una `API_KEY` segura.
    - Configura tus credenciales de Firebase.
4.  **Instala las dependencias**: `go mod tidy`.

## üöÄ Uso

### Iniciar el servidor

```bash
go run cmd/api/main.go
```

### Endpoints de la API

| M√©todo   | Endpoint               | Descripci√≥n                                           | Requiere Auth |
| :------- | :--------------------- | :---------------------------------------------------- | :------------ |
| `GET`    | `/api/v1/products`     | Lista productos con filtros (`sku`, `category`, `q`). | No            |
| `GET`    | `/api/v1/products/:id` | Obtiene un producto por su ID.                        | No            |
| `POST`   | `/api/v1/products`     | Crea un nuevo producto.                               | **S√≠**        |
| `PATCH`  | `/api/v1/products/:id` | Actualiza un producto existente.                      | **S√≠**        |
| `DELETE` | `/api/v1/products/:id` | Desactiva un producto (soft delete).                  | **S√≠**        |

### üíª Ejemplos con `curl`

**Crear un nuevo producto (requiere autenticaci√≥n):**

```bash
curl -X POST http://localhost:8082/api/v1/products \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: my-super-secret-key" \
  -d '{
    "id": "prod-002",
    "sku": "JEANS-BLUE-32",
    "name": "Jeans Azules Talla 32",
    "brand": "MarcaY",
    "category": "Ropa/Hombre/Pantalones",
    "price": 150000,
    "currency": "COP"
  }'
```

**Actualizar el precio de un producto:**

```bash
curl -X PATCH http://localhost:8082/api/v1/products/prod-002 \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: my-super-secret-key" \
  -d '{
    "price": 155000
  }'
```
